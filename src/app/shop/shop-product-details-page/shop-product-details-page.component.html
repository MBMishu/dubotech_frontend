<div
  class="relative bg-blue-800 isolate px-6 lg:px-8 min-h-[10vh] bg-cover bg-center flex items-center justify-center"
></div>

<section>
  <div class="relative overflow-hidden">
    <div
      class="mx-auto max-w-7xl px-4 py-1 sm:px-6 sm:py-1 lg:max-w-7xl lg:px-8 relative"
    >
      <ngx-spinner
        bdColor="rgba(0,0,0,0)"
        size="medium"
        color="#1e40af"
        type="square-loader"
        [fullScreen]="false"
      ></ngx-spinner>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="grid grid-cols-3 gap-4">
          <div class="col-span-3">
            <a
              class="venobox"
              data-ratio="16x9"
              data-gall="List.sku"
              href="{{ List.image }}"
            >
              <img
                [defaultImage]="
                  'https://ik.imagekit.io/dubotech/assets/img/default.png'
                "
                lazyLoad="{{ List.image }}"
                class="object-cover w-auto h-auto"
                alt=""
              />
            </a>
          </div>
          <ng-container *ngFor="let item of List['extra_image']">
            <div *ngIf="item.side_image_1">
              <a
                class="venobox"
                data-ratio="16x9"
                data-gall="List.sku"
                href="{{ item.side_image_1 }}"
              >
                <img
                  [defaultImage]="
                    'https://ik.imagekit.io/dubotech/assets/img/default.png'
                  "
                  lazyLoad="{{ item.side_image_1 }}"
                  class="object-cover w-auto h-auto"
                  alt=""
                />
              </a>
            </div>
            <div *ngIf="item.side_image_2">
              <a
                class="venobox"
                data-ratio="16x9"
                data-gall="List.sku"
                href="{{ item.side_image_2 }}"
              >
                <img
                  [defaultImage]="
                    'https://ik.imagekit.io/dubotech/assets/img/default.png'
                  "
                  lazyLoad="{{ item.side_image_2 }}"
                  class="object-cover w-auto h-auto"
                  alt=""
                />
              </a>
            </div>
            <div *ngIf="item.side_image_3">
              <a
                class="venobox"
                data-ratio="16x9"
                data-gall="List.sku"
                href="{{ item.side_image_3 }}"
              >
                <img
                  [defaultImage]="
                    'https://ik.imagekit.io/dubotech/assets/img/default.png'
                  "
                  lazyLoad="{{ item.side_image_3 }}"
                  class="object-cover w-auto h-auto"
                  alt=""
                />
              </a>
            </div>
          </ng-container>
        </div>

        <div class="flex flex-col justify-center">
          <!-- alert -->
          <div
            *ngIf="error_message"
            id="alert-border-2"
            class="flex items-center p-4 mb-4 text-red-800 border-t-4 border-red-300 bg-red-50 dark:text-red-400 dark:bg-gray-800 dark:border-red-800"
            role="alert"
          >
            <svg
              class="flex-shrink-0 w-4 h-4"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
              />
            </svg>
            <div class="ms-3 text-sm font-medium">{{ error_message }}</div>
          </div>
          <!-- alert -->
          <div
            id="alert-border-3"
            class="flex items-center p-4 mb-4 text-green-800 border-t-4 border-green-300 bg-green-50 dark:text-green-400 dark:bg-gray-800 dark:border-green-800"
            role="alert"
            *ngIf="success_message"
          >
            <svg
              class="flex-shrink-0 w-4 h-4"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
              />
            </svg>
            <div class="ms-3 text-sm font-medium">{{ success_message }}</div>
          </div>
          <p class="text-sm text-gray-500">SKU: {{ List.sku }}</p>
          <h1
            class="text-4xl capitalize font-semibold tracking-tight text-blue-800 sm:text-4xl"
          >
            {{ List.name }}
          </h1>
          <p class="text-xl text-gray-500">à§³ {{ List.price }}</p>

          <p class="text-lg text-gray-500 mt-3">
            {{ List.about_product }}
          </p>
          <p class="text-lg text-gray-500 mt-3" *ngIf="List.dataset">
            <a
              [href]="this.Media + List.dataset"
              target="_blank"
              class="bg-blue-700 hover:bg-blue-800 py-3 px-6 text-white rounded-md"
              >Datasheet
            </a>
          </p>
          <div class="mt-4">
            <form class="max-w-sm">
              <label
                for="number-input"
                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                >Select Quantity:</label
              >
              <input
                type="number"
                id="number-input"
                [(ngModel)]="quantity"
                name="quantity"
                aria-describedby="helper-text-explanation"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-800 focus:border-blue-800 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-800 dark:focus:border-blue-800"
                placeholder="1"
                value="1"
                min="1"
                required
              />

              <button
                (click)="addToCart(List.slug)"
                matTooltip="Add To Cart"
                class="mt-3 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full"
                type="button"
              >
                Add To Cart
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- add ons products -->
<section *ngIf="List?.child_products?.length != 0">
  <div class="relative overflow-hidden">
    <div
      class="mx-auto max-w-7xl px-4 py-1 sm:px-6 sm:py-1 lg:max-w-7xl lg:px-8 relative"
    >
      <p
        class="text-4xl capitalize font-semibold tracking-tight text-blue-800 sm:text-4xl"
      >
        Add-ons
      </p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-5">
        <ng-container *ngFor="let item of List['child_products']">
          <!-- product -->
          <!-- <app-product-card [item]="item"></app-product-card> -->
          <app-addon-product-card [item]="item"></app-addon-product-card>
        </ng-container>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="relative overflow-hidden">
    <div
      class="mx-auto max-w-7xl px-4 py-12 sm:px-6 sm:py-12 lg:max-w-7xl lg:px-8 relative"
    >
      <div class="product-description" [innerHTML]="productDescription"></div>
    </div>
  </div>
</section>

<section>
  <div class="relative overflow-hidden">
    <div
      class="mx-auto max-w-7xl px-4 py-12 sm:px-6 sm:py-12 lg:max-w-7xl lg:px-8 relative"
    >
      <mat-accordion>
        <!-- contents -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h2 class="text-xl font-semibold mt-3">Contents</h2>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <div class="product-description" [innerHTML]="content"></div>
          </ng-template>
        </mat-expansion-panel>
        <!-- technical details -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h2 class="text-xl font-semibold mt-3">Technical Details</h2>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <div
              class="product-description"
              [innerHTML]="technical_details"
            ></div>
          </ng-template>
        </mat-expansion-panel>
        <!-- guide -->
        <!-- technical details -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h2 class="text-xl font-semibold mt-3">Guide</h2>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <div class="product-description" [innerHTML]="guide"></div>
          </ng-template>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
</section>

<!-- realted products -->
<section *ngIf="Related_List && Related_List.length > 0">
  <div class="relative overflow-hidden">
    <div
      class="mx-auto max-w-7xl px-4 py-12 sm:px-6 sm:py-12 lg:max-w-7xl lg:px-8 relative"
    >
      <p
        class="text-4xl capitalize font-semibold tracking-tight text-blue-800 sm:text-4xl"
      >
        Related Products
      </p>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mt-5">
        <ng-container *ngFor="let item of Related_List">
          <!-- product -->
          <app-product-card [item]="item"></app-product-card>
        </ng-container>
      </div>
    </div>
  </div>
</section>
