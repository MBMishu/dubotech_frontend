<!-- Das Users Page -->
<h2 class="text-2xl mb-4">{{ title }}</h2>

<!-- User List -->
<div class="w-full shadow p-5 mb-16">
  <h3 class="text-2xl mb-5">User List</h3>
  <div class="overflow-x-auto">
    <table class="table-auto w-full border-collapse">
      <!-- Table Header -->
      <thead>
        <tr>
          <th class="px-4 py-2 border text-left">#</th>
          <th class="px-4 py-2 border text-left">Name</th>
          <th class="px-4 py-2 border text-left">Position</th>
          <th class="px-4 py-2 border text-left">email</th>
          <th class="px-4 py-2 border text-left">isAdmin?</th>
          <th class="px-4 py-2 border text-left">Update</th>
          <th class="px-4 py-2 border text-left">Delete</th>
        </tr>
      </thead>

      <!-- Table Body -->
      <tbody>
        <!-- Loading Content -->
        <ng-container *ngIf="loading; else content">
          <tr>
            <td colspan="6" class="px-4 py-2 text-center">Loading...</td>
          </tr>
        </ng-container>

        <!-- User List Items -->
        <ng-template #content>
          <ng-container *ngFor="let user of itemList; let i = index">
            <tr>
              <td class="px-4 py-2 border">{{ i + 1 }}</td>
              <td>{{ user.firstName }} {{ user.lastName }}</td>
              <td>{{ user.position }}</td>
              <td>{{ user.email }}</td>

              <td>{{ user.isAdmin }}</td>
              <td class="px-4 py-2 border">
                <button
                  class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded"
                  (click)="populateFormForUpdate(user._id)"
                >
                  Update
                </button>
              </td>
              <td class="px-4 py-2 border">
                <button
                  class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
                  (click)="deleteUser(user._id)"
                >
                  Delete
                </button>
              </td>
            </tr>
          </ng-container>
        </ng-template>
      </tbody>
    </table>
  </div>
</div>
